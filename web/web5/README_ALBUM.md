# Персональный альбом (Yii2)

## Описание
Веб-приложение "Персональный альбом" реализует хранение, просмотр, загрузку, удаление и управление приватностью изображений с аутентификацией пользователей.

## Основные функции
- Аутентификация пользователей через форму логина/пароля (таблица `users` в MySQL, пароли в md5)
- Просмотр личных и публичных изображений
- Загрузка изображений (jpg, png, gif, до 5МБ)
- Добавление подписи к изображению
- Удаление своих изображений
- Переключение приватности (только владелец может менять)
- Публичные фото видны всем, приватные — только владельцу

## Страницы
- **/site/login** — форма входа
- **/album/index** — просмотр альбома, загрузка, удаление, переключение приватности
- **/album/upload** — форма загрузки изображения
- **/album/add-caption?id=** — добавление подписи
- **/album/delete?id=** — подтверждение удаления
- **/album/toggle-privacy?id=** — переключение приватности

## Требования
- PHP 7.2+
- MySQL (таблицы `users`, `images`)
- Каталог `upload` с правами на запись для wwwrun (или www-data). Например:
  - В Linux: `sudo chmod 777 upload` или `sudo setfacl -m u:www-data:rwx upload`
- Настроить подключение к БД в `config/db.php`

## Структура таблиц

### Таблица users
- `id` INT PRIMARY KEY AUTO_INCREMENT
- `login` VARCHAR(16) NOT NULL UNIQUE
- `password` VARCHAR(255) NOT NULL (md5)

### Таблица images
- `id` INT PRIMARY KEY AUTO_INCREMENT
- `name` VARCHAR(256) NOT NULL
- `caption` VARCHAR(256)
- `user_id` INT NOT NULL (владелец)
- `is_private` TINYINT(1) NOT NULL DEFAULT 0

## Примечания
- Все действия с изображениями доступны только после входа.
- Только владелец может удалять или менять приватность своих изображений.
- Ошибки загрузки и операций отображаются пользователю.

## Запуск
1. Настройте БД и пользователя.
2. Проверьте права на папку `upload`.
3. Запустите встроенный сервер Yii:
   ```
   php yii serve
   ```
4. Откройте [http://localhost:8080](http://localhost:8080)

---
Если возникнут вопросы — обратитесь к преподавателю или смотрите комментарии в коде.
